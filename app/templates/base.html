<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>My Car Diagnostic Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>

<body>

<!-- HEADER -->
<div class="main-header">
    My Car Diagnostic Dashboard
</div>

<!-- LEFT GAUGE -->
<div class="gauge-left">
    <svg viewBox="-30 -20 260 200" preserveAspectRatio="xMidYMid meet">
        <!-- Gauge arc (240° from bottom-left to bottom-right) -->
        <path d="M 23,142 A 90,90 0 1,1 177,142"
              stroke="#ff9800" stroke-width="5" fill="none" stroke-linecap="round"/>

        <!-- Major tick marks (every 30° along the 240° arc) -->
        <g stroke="#888" stroke-width="3" stroke-linecap="round">
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(-120 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(-90 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(-60 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(-30 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(0 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(30 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(60 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(90 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(120 100 100)"/>
        </g>

        <!-- Minor tick marks (every 10°) -->
        <g stroke="#555" stroke-width="1.5" stroke-linecap="round">
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-110 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-100 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-80 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-70 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-50 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-40 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-20 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-10 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(10 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(20 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(40 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(50 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(70 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(80 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(100 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(110 100 100)"/>
        </g>

        <!-- Center hub -->
        <circle cx="100" cy="100" r="8" fill="#333"/>

        <!-- Animated needle -->
        <line id="needleLeft" x1="100" y1="100" x2="100" y2="30"
              stroke="#00eaff" stroke-width="4" stroke-linecap="round"/>
        <circle cx="100" cy="100" r="5" fill="#00eaff"/>
    </svg>
</div>

<!-- RIGHT GAUGE -->
<div class="gauge-right">
    <svg viewBox="-30 -20 260 200" preserveAspectRatio="xMidYMid meet">
        <!-- Gauge arc (240° from bottom-left to bottom-right) -->
        <path d="M 23,142 A 90,90 0 1,1 177,142"
              stroke="#ff9800" stroke-width="5" fill="none" stroke-linecap="round"/>

        <!-- Major tick marks (every 30° along the 240° arc) -->
        <g stroke="#888" stroke-width="3" stroke-linecap="round">
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(-120 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(-90 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(-60 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(-30 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(0 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(30 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(60 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(90 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="32" transform="rotate(120 100 100)"/>
        </g>

        <!-- Minor tick marks (every 10°) -->
        <g stroke="#555" stroke-width="1.5" stroke-linecap="round">
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-110 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-100 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-80 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-70 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-50 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-40 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-20 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(-10 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(10 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(20 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(40 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(50 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(70 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(80 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(100 100 100)"/>
            <line x1="100" y1="15" x2="100" y2="27" transform="rotate(110 100 100)"/>
        </g>

        <!-- Center hub -->
        <circle cx="100" cy="100" r="8" fill="#333"/>

        <!-- Animated needle -->
        <line id="needleRight" x1="100" y1="100" x2="100" y2="30"
              stroke="#00eaff" stroke-width="4" stroke-linecap="round"/>
        <circle cx="100" cy="100" r="5" fill="#00eaff"/>
    </svg>
</div>

<div class="container">
    {% block content %}{% endblock %}
</div>

<script>
    /* --- Car gauge needle animation: sweeping within the 240° arc --- */
    let time = 0;
    const sweepRange = 120;  // ±120° = 240° total arc (car gauge style)
    const speed = 0.0012;    // Animation speed (lower = slower)

    function animateNeedles() {
        time += speed;

        // Use sine wave for smooth back-and-forth motion within gauge range
        const angle = Math.sin(time) * sweepRange;

        const left = document.getElementById("needleLeft");
        const right = document.getElementById("needleRight");

        if (left) left.setAttribute("transform", `rotate(${angle} 100 100)`);
        if (right) right.setAttribute("transform", `rotate(${-angle} 100 100)`);

        requestAnimationFrame(animateNeedles);
    }

    // Start animation when page loads
    animateNeedles();
</script>

</body>
</html>
